import { type NextRequest, NextResponse } from "next/server"

// 損益計算書データのモック
const incomeStatementData = {
  "2022": {
    "full-year": {
      revenue: [
        { name: "売上高", amount: 36000000 },
        { name: "受取利息", amount: 12000 },
        { name: "雑収入", amount: 80000 },
      ],
      expenses: [
        { name: "仕入高", amount: 15000000 },
        { name: "役員報酬", amount: 10000000 },
        { name: "給料手当", amount: 7000000 },
        { name: "法定福利費", amount: 1400000 },
        { name: "地代家賃", amount: 2000000 },
        { name: "水道光熱費", amount: 600000 },
        { name: "通信費", amount: 300000 },
        { name: "消耗品費", amount: 400000 },
        { name: "減価償却費", amount: 1000000 },
        { name: "支払利息", amount: 120000 },
        { name: "雑費", amount: 200000 },
      ],
      taxes: [{ name: "法人税等", amount: 1000000 }],
    },
    "first-half": {
      revenue: [
        { name: "売上高", amount: 17000000 },
        { name: "受取利息", amount: 6000 },
        { name: "雑収入", amount: 40000 },
      ],
      expenses: [
        { name: "仕入高", amount: 7000000 },
        { name: "役員報酬", amount: 5000000 },
        { name: "給料手当", amount: 3500000 },
        { name: "法定福利費", amount: 700000 },
        { name: "地代家賃", amount: 1000000 },
        { name: "水道光熱費", amount: 300000 },
        { name: "通信費", amount: 150000 },
        { name: "消耗品費", amount: 200000 },
        { name: "減価償却費", amount: 500000 },
        { name: "支払利息", amount: 60000 },
        { name: "雑費", amount: 100000 },
      ],
      taxes: [{ name: "法人税等", amount: 500000 }],
    },
    "second-half": {
      revenue: [
        { name: "売上高", amount: 19000000 },
        { name: "受取利息", amount: 6000 },
        { name: "雑収入", amount: 40000 },
      ],
      expenses: [
        { name: "仕入高", amount: 8000000 },
        { name: "役員報酬", amount: 5000000 },
        { name: "給料手当", amount: 3500000 },
        { name: "法定福利費", amount: 700000 },
        { name: "地代家賃", amount: 1000000 },
        { name: "水道光熱費", amount: 300000 },
        { name: "通信費", amount: 150000 },
        { name: "消耗品費", amount: 200000 },
        { name: "減価償却費", amount: 500000 },
        { name: "支払利息", amount: 60000 },
        { name: "雑費", amount: 100000 },
      ],
      taxes: [{ name: "法人税等", amount: 500000 }],
    },
    "1": {
      revenue: [
        { name: "売上高", amount: 8500000 },
        { name: "受取利息", amount: 3000 },
        { name: "雑収入", amount: 20000 },
      ],
      expenses: [
        { name: "仕入高", amount: 3500000 },
        { name: "役員報酬", amount: 2500000 },
        { name: "給料手当", amount: 1750000 },
        { name: "法定福利費", amount: 350000 },
        { name: "地代家賃", amount: 500000 },
        { name: "水道光熱費", amount: 150000 },
        { name: "通信費", amount: 75000 },
        { name: "消耗品費", amount: 100000 },
        { name: "減価償却費", amount: 250000 },
        { name: "支払利息", amount: 30000 },
        { name: "雑費", amount: 50000 },
      ],
      taxes: [{ name: "法人税等", amount: 250000 }],
    },
    "2": {
      revenue: [
        { name: "売上高", amount: 8500000 },
        { name: "受取利息", amount: 3000 },
        { name: "雑収入", amount: 20000 },
      ],
      expenses: [
        { name: "仕入高", amount: 3500000 },
        { name: "役員報酬", amount: 2500000 },
        { name: "給料手当", amount: 1750000 },
        { name: "法定福利費", amount: 350000 },
        { name: "地代家賃", amount: 500000 },
        { name: "水道光熱費", amount: 150000 },
        { name: "通信費", amount: 75000 },
        { name: "消耗品費", amount: 100000 },
        { name: "減価償却費", amount: 250000 },
        { name: "支払利息", amount: 30000 },
        { name: "雑費", amount: 50000 },
      ],
      taxes: [{ name: "法人税等", amount: 250000 }],
    },
    "3": {
      revenue: [
        { name: "売上高", amount: 9500000 },
        { name: "受取利息", amount: 3000 },
        { name: "雑収入", amount: 20000 },
      ],
      expenses: [
        { name: "仕入高", amount: 4000000 },
        { name: "役員報酬", amount: 2500000 },
        { name: "給料手当", amount: 1750000 },
        { name: "法定福利費", amount: 350000 },
        { name: "地代家賃", amount: 500000 },
        { name: "水道光熱費", amount: 150000 },
        { name: "通信費", amount: 75000 },
        { name: "消耗品費", amount: 100000 },
        { name: "減価償却費", amount: 250000 },
        { name: "支払利息", amount: 30000 },
        { name: "雑費", amount: 50000 },
      ],
      taxes: [{ name: "法人税等", amount: 250000 }],
    },
    "4": {
      revenue: [
        { name: "売上高", amount: 9500000 },
        { name: "受取利息", amount: 3000 },
        { name: "雑収入", amount: 20000 },
      ],
      expenses: [
        { name: "仕入高", amount: 4000000 },
        { name: "役員報酬", amount: 2500000 },
        { name: "給料手当", amount: 1750000 },
        { name: "法定福利費", amount: 350000 },
        { name: "地代家賃", amount: 500000 },
        { name: "水道光熱費", amount: 150000 },
        { name: "通信費", amount: 75000 },
        { name: "消耗品費", amount: 100000 },
        { name: "減価償却費", amount: 250000 },
        { name: "支払利息", amount: 30000 },
        { name: "雑費", amount: 50000 },
      ],
      taxes: [{ name: "法人税等", amount: 250000 }],
    },
  },
  "2023": {
    "full-year": {
      revenue: [
        { name: "売上高", amount: 42000000 },
        { name: "受取利息", amount: 14000 },
        { name: "雑収入", amount: 90000 },
      ],
      expenses: [
        { name: "仕入高", amount: 17000000 },
        { name: "役員報酬", amount: 11000000 },
        { name: "給料手当", amount: 7700000 },
        { name: "法定福利費", amount: 1540000 },
        { name: "地代家賃", amount: 2200000 },
        { name: "水道光熱費", amount: 660000 },
        { name: "通信費", amount: 330000 },
        { name: "消耗品費", amount: 440000 },
        { name: "減価償却費", amount: 1100000 },
        { name: "支払利息", amount: 132000 },
        { name: "雑費", amount: 220000 },
      ],
      taxes: [{ name: "法人税等", amount: 1100000 }],
    },
    "first-half": {
      revenue: [
        { name: "売上高", amount: 20000000 },
        { name: "受取利息", amount: 7000 },
        { name: "雑収入", amount: 45000 },
      ],
      expenses: [
        { name: "仕入高", amount: 8000000 },
        { name: "役員報酬", amount: 5500000 },
        { name: "給料手当", amount: 3850000 },
        { name: "法定福利費", amount: 770000 },
        { name: "地代家賃", amount: 1100000 },
        { name: "水道光熱費", amount: 330000 },
        { name: "通信費", amount: 165000 },
        { name: "消耗品費", amount: 220000 },
        { name: "減価償却費", amount: 550000 },
        { name: "支払利息", amount: 66000 },
        { name: "雑費", amount: 110000 },
      ],
      taxes: [{ name: "法人税等", amount: 550000 }],
    },
    "second-half": {
      revenue: [
        { name: "売上高", amount: 22000000 },
        { name: "受取利息", amount: 7000 },
        { name: "雑収入", amount: 45000 },
      ],
      expenses: [
        { name: "仕入高", amount: 9000000 },
        { name: "役員報酬", amount: 5500000 },
        { name: "給料手当", amount: 3850000 },
        { name: "法定福利費", amount: 770000 },
        { name: "地代家賃", amount: 1100000 },
        { name: "水道光熱費", amount: 330000 },
        { name: "通信費", amount: 165000 },
        { name: "消耗品費", amount: 220000 },
        { name: "減価償却費", amount: 550000 },
        { name: "支払利息", amount: 66000 },
        { name: "雑費", amount: 110000 },
      ],
      taxes: [{ name: "法人税等", amount: 550000 }],
    },
    "1": {
      revenue: [
        { name: "売上高", amount: 10000000 },
        { name: "受取利息", amount: 3500 },
        { name: "雑収入", amount: 22500 },
      ],
      expenses: [
        { name: "仕入高", amount: 4000000 },
        { name: "役員報酬", amount: 2750000 },
        { name: "給料手当", amount: 1925000 },
        { name: "法定福利費", amount: 385000 },
        { name: "地代家賃", amount: 550000 },
        { name: "水道光熱費", amount: 165000 },
        { name: "通信費", amount: 82500 },
        { name: "消耗品費", amount: 110000 },
        { name: "減価償却費", amount: 275000 },
        { name: "支払利息", amount: 33000 },
        { name: "雑費", amount: 55000 },
      ],
      taxes: [{ name: "法人税等", amount: 275000 }],
    },
    "2": {
      revenue: [
        { name: "売上高", amount: 10000000 },
        { name: "受取利息", amount: 3500 },
        { name: "雑収入", amount: 22500 },
      ],
      expenses: [
        { name: "仕入高", amount: 4000000 },
        { name: "役員報酬", amount: 2750000 },
        { name: "給料手当", amount: 1925000 },
        { name: "法定福利費", amount: 385000 },
        { name: "地代家賃", amount: 550000 },
        { name: "水道光熱費", amount: 165000 },
        { name: "通信費", amount: 82500 },
        { name: "消耗品費", amount: 110000 },
        { name: "減価償却費", amount: 275000 },
        { name: "支払利息", amount: 33000 },
        { name: "雑費", amount: 55000 },
      ],
      taxes: [{ name: "法人税等", amount: 275000 }],
    },
    "3": {
      revenue: [
        { name: "売上高", amount: 11000000 },
        { name: "受取利息", amount: 3500 },
        { name: "雑収入", amount: 22500 },
      ],
      expenses: [
        { name: "仕入高", amount: 4500000 },
        { name: "役員報酬", amount: 2750000 },
        { name: "給料手当", amount: 1925000 },
        { name: "法定福利費", amount: 385000 },
        { name: "地代家賃", amount: 550000 },
        { name: "水道光熱費", amount: 165000 },
        { name: "通信費", amount: 82500 },
        { name: "消耗品費", amount: 110000 },
        { name: "減価償却費", amount: 275000 },
        { name: "支払利息", amount: 33000 },
        { name: "雑費", amount: 55000 },
      ],
      taxes: [{ name: "法人税等", amount: 275000 }],
    },
    "4": {
      revenue: [
        { name: "売上高", amount: 11000000 },
        { name: "受取利息", amount: 3500 },
        { name: "雑収入", amount: 22500 },
      ],
      expenses: [
        { name: "仕入高", amount: 4500000 },
        { name: "役員報酬", amount: 2750000 },
        { name: "給料手当", amount: 1925000 },
        { name: "法定福利費", amount: 385000 },
        { name: "地代家賃", amount: 550000 },
        { name: "水道光熱費", amount: 165000 },
        { name: "通信費", amount: 82500 },
        { name: "消耗品費", amount: 110000 },
        { name: "減価償却費", amount: 275000 },
        { name: "支払利息", amount: 33000 },
        { name: "雑費", amount: 55000 },
      ],
      taxes: [{ name: "法人税等", amount: 275000 }],
    },
  },
  "2024": {
    "full-year": {
      revenue: [
        { name: "売上高", amount: 48000000 },
        { name: "受取利息", amount: 15000 },
        { name: "雑収入", amount: 85000 },
      ],
      expenses: [
        { name: "仕入高", amount: 18000000 },
        { name: "役員報酬", amount: 12000000 },
        { name: "給料手当", amount: 8400000 },
        { name: "法定福利費", amount: 1680000 },
        { name: "地代家賃", amount: 2400000 },
        { name: "水道光熱費", amount: 720000 },
        { name: "通信費", amount: 360000 },
        { name: "消耗品費", amount: 480000 },
        { name: "減価償却費", amount: 1200000 },
        { name: "支払利息", amount: 150000 },
        { name: "雑費", amount: 240000 },
      ],
      taxes: [{ name: "法人税等", amount: 1200000 }],
    },
    "first-half": {
      revenue: [
        { name: "売上高", amount: 23000000 },
        { name: "受取利息", amount: 7500 },
        { name: "雑収入", amount: 42500 },
      ],
      expenses: [
        { name: "仕入高", amount: 9000000 },
        { name: "役員報酬", amount: 6000000 },
        { name: "給料手当", amount: 4200000 },
        { name: "法定福利費", amount: 840000 },
        { name: "地代家賃", amount: 1200000 },
        { name: "水道光熱費", amount: 360000 },
        { name: "通信費", amount: 180000 },
        { name: "消耗品費", amount: 240000 },
        { name: "減価償却費", amount: 600000 },
        { name: "支払利息", amount: 75000 },
        { name: "雑費", amount: 120000 },
      ],
      taxes: [{ name: "法人税等", amount: 600000 }],
    },
    "second-half": {
      revenue: [
        { name: "売上高", amount: 25000000 },
        { name: "受取利息", amount: 7500 },
        { name: "雑収入", amount: 42500 },
      ],
      expenses: [
        { name: "仕入高", amount: 9000000 },
        { name: "役員報酬", amount: 6000000 },
        { name: "給料手当", amount: 4200000 },
        { name: "法定福利費", amount: 840000 },
        { name: "地代家賃", amount: 1200000 },
        { name: "水道光熱費", amount: 360000 },
        { name: "通信費", amount: 180000 },
        { name: "消耗品費", amount: 240000 },
        { name: "減価償却費", amount: 600000 },
        { name: "支払利息", amount: 75000 },
        { name: "雑費", amount: 120000 },
      ],
      taxes: [{ name: "法人税等", amount: 600000 }],
    },
    "1": {
      revenue: [
        { name: "売上高", amount: 11500000 },
        { name: "受取利息", amount: 3750 },
        { name: "雑収入", amount: 21250 },
      ],
      expenses: [
        { name: "仕入高", amount: 4500000 },
        { name: "役員報酬", amount: 3000000 },
        { name: "給料手当", amount: 2100000 },
        { name: "法定福利費", amount: 420000 },
        { name: "地代家賃", amount: 600000 },
        { name: "水道光熱費", amount: 180000 },
        { name: "通信費", amount: 90000 },
        { name: "消耗品費", amount: 120000 },
        { name: "減価償却費", amount: 300000 },
        { name: "支払利息", amount: 37500 },
        { name: "雑費", amount: 60000 },
      ],
      taxes: [{ name: "法人税等", amount: 300000 }],
    },
    "2": {
      revenue: [
        { name: "売上高", amount: 11500000 },
        { name: "受取利息", amount: 3750 },
        { name: "雑収入", amount: 21250 },
      ],
      expenses: [
        { name: "仕入高", amount: 4500000 },
        { name: "役員報酬", amount: 3000000 },
        { name: "給料手当", amount: 2100000 },
        { name: "法定福利費", amount: 420000 },
        { name: "地代家賃", amount: 600000 },
        { name: "水道光熱費", amount: 180000 },
        { name: "通信費", amount: 90000 },
        { name: "消耗品費", amount: 120000 },
        { name: "減価償却費", amount: 300000 },
        { name: "支払利息", amount: 37500 },
        { name: "雑費", amount: 60000 },
      ],
      taxes: [{ name: "法人税等", amount: 300000 }],
    },
    "3": {
      revenue: [
        { name: "売上高", amount: 12500000 },
        { name: "受取利息", amount: 3750 },
        { name: "雑収入", amount: 21250 },
      ],
      expenses: [
        { name: "仕入高", amount: 4500000 },
        { name: "役員報酬", amount: 3000000 },
        { name: "給料手当", amount: 2100000 },
        { name: "法定福利費", amount: 420000 },
        { name: "地代家賃", amount: 600000 },
        { name: "水道光熱費", amount: 180000 },
        { name: "通信費", amount: 90000 },
        { name: "消耗品費", amount: 120000 },
        { name: "減価償却費", amount: 300000 },
        { name: "支払利息", amount: 37500 },
        { name: "雑費", amount: 60000 },
      ],
      taxes: [{ name: "法人税等", amount: 300000 }],
    },
    "4": {
      revenue: [
        { name: "売上高", amount: 12500000 },
        { name: "受取利息", amount: 3750 },
        { name: "雑収入", amount: 21250 },
      ],
      expenses: [
        { name: "仕入高", amount: 4500000 },
        { name: "役員報酬", amount: 3000000 },
        { name: "給料手当", amount: 2100000 },
        { name: "法定福利費", amount: 420000 },
        { name: "地代家賃", amount: 600000 },
        { name: "水道光熱費", amount: 180000 },
        { name: "通信費", amount: 90000 },
        { name: "消耗品費", amount: 120000 },
        { name: "減価償却費", amount: 300000 },
        { name: "支払利息", amount: 37500 },
        { name: "雑費", amount: 60000 },
      ],
      taxes: [{ name: "法人税等", amount: 300000 }],
    },
  },
}

export async function GET(request: NextRequest) {
  // クエリパラメータから年度と期間を取得
  const searchParams = request.nextUrl.searchParams
  const fiscalYear = searchParams.get("fiscalYear") || "2024"
  const period = searchParams.get("period") || "full-year"

  // 指定された年度と期間のデータを取得
  const data = incomeStatementData[fiscalYear]?.[period] || incomeStatementData["2024"]["full-year"]

  // 実際のAPIでは処理に時間がかかることを模擬するために遅延を追加
  await new Promise((resolve) => setTimeout(resolve, 500))

  // データを返す
  return NextResponse.json({ incomeStatementData: data })
}
